<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    .content {
      width: 900px;
      margin: 100px auto;
    }

    .main {
      width: 900px;
      height: 900px;
      background-color: rgba(255, 255, 0, 0.29);
      border: 1px solid #777777;
    }

    .section {
      float: left;
      width: 200px;
      height: 200px;
      margin: 50px;
      font-size: 0;
    }

    .section img {
      width: 200px;
      height: 160px;
    }

    .section p {
      font-size: 16px;
      text-align: center;
      line-height: 40px;
      background-color: yellow;
    }

    .pageList {
      display: inline-block;
    }

    .pageList a {
      padding: 0 6px;
      background-color: rgba(119, 119, 119, 0.49);
      border-radius: 6px;
    }

    .aList {
      display: inline-block;
    }

    .aList .choose {
      background-color: red;
      color: #fff;
    }
  </style>
</head>
<body>
<div>
  <div class="content">
    <div class="main">
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
      <div class="section"></div>
    </div>
    <div class="pageList">
      <a href="javascript:">首页</a>
      <a href="javascript:" id="upper">上一页</a>
      <!--页数按钮-->
      <div class="aList"></div>
      <a href="javascript:" id="lower">下一页</a>
      <a href="javascript:">尾页</a>
    </div>
  </div>
  <script src="./jquery.js" type="text/javascript"></script>
  <script>
    $(() => {
      let data = [
        {img: "./img/1.jpg", text: "1"},
        {img: "./img/2.jpg", text: "2"},
        {img: "./img/3.jpg", text: "3"},
        {img: "./img/4.jpg", text: "4"},
        {img: "./img/5.jpg", text: "5"},
        {img: "./img/6.jpg", text: "6"},
        {img: "./img/7.jpg", text: "7"},
        {img: "./img/8.jpg", text: "8"},
        {img: "./img/9.jpg", text: "9"},
        {img: "./img/10.jpg", text: "10"},
        {img: "./img/11.jpg", text: "11"},
        {img: "./img/12.jpg", text: "12"},
        {img: "./img/13.jpg", text: "13"},
        {img: "./img/14.jpg", text: "14"},
        {img: "./img/15.jpg", text: "15"},
        {img: "./img/16.jpg", text: "16"},
        {img: "./img/17.jpg", text: "17"},
        {img: "./img/18.jpg", text: "18"},
        {img: "./img/19.jpg", text: "19"},
        {img: "./img/20.jpg", text: "20"},
        {img: "./img/21.jpg", text: "21"},
        {img: "./img/22.jpg", text: "22"},
        {img: "./img/23.jpg", text: "23"},
        {img: "./img/24.jpg", text: "24"},
        {img: "./img/25.jpg", text: "25"},
        {img: "./img/26.jpg", text: "26"},
        {img: "./img/27.jpg", text: "27"},
        {img: "./img/28.jpg", text: "28"},
        {img: "./img/29.jpg", text: "29"},
        {img: "./img/30.jpg", text: "30"},
        {img: "./img/31.jpg", text: "31"},
        {img: "./img/32.jpg", text: "32"},
        {img: "./img/33.jpg", text: "33"},
        {img: "./img/34.jpg", text: "34"},
        {img: "./img/35.jpg", text: "35"},
        {img: "./img/36.jpg", text: "36"},
        {img: "./img/37.jpg", text: "37"},
        {img: "./img/38.jpg", text: "38"},
        {img: "./img/39.jpg", text: "39"},
        {img: "./img/10.jpg", text: "10"},
        {img: "./img/11.jpg", text: "11"},
        {img: "./img/12.jpg", text: "12"},
        {img: "./img/13.jpg", text: "13"},
        {img: "./img/14.jpg", text: "14"},
        {img: "./img/15.jpg", text: "15"},
        {img: "./img/16.jpg", text: "16"},
        {img: "./img/17.jpg", text: "17"},
        {img: "./img/18.jpg", text: "18"},
        {img: "./img/19.jpg", text: "19"},
        {img: "./img/20.jpg", text: "20"},
        {img: "./img/21.jpg", text: "21"},
        {img: "./img/22.jpg", text: "22"},
        {img: "./img/23.jpg", text: "23"},
        {img: "./img/24.jpg", text: "24"},
        {img: "./img/25.jpg", text: "25"},
        {img: "./img/26.jpg", text: "26"},
        {img: "./img/27.jpg", text: "27"},
        {img: "./img/28.jpg", text: "28"},
        {img: "./img/29.jpg", text: "29"},
        {img: "./img/30.jpg", text: "30"},
        {img: "./img/31.jpg", text: "31"},
        {img: "./img/32.jpg", text: "32"},
        {img: "./img/33.jpg", text: "33"},
        {img: "./img/34.jpg", text: "34"},
        {img: "./img/35.jpg", text: "35"},
        {img: "./img/36.jpg", text: "36"},
        {img: "./img/37.jpg", text: "37"},
        {img: "./img/38.jpg", text: "38"},
        {img: "./img/39.jpg", text: "39"},
        {img: "./img/40.jpg", text: "40"}
      ]
      // 控制页数
      let page = 1;
      //总页数
      let totalPage = Math.ceil(data.length / 9);
      //有多少页加多少按钮
      for (let i = 0; i < totalPage; i++) {
        $(".aList").append(`<a href="javascript:">${i + 1}</a> `);
      }
      //pageList居中
     
      // $(".pageList").css("margin","20px 0 0 "+(parseInt($(".content").css("width"))-parseInt($(".pageList").css("width")))/2+"px")
      $(".pageList").css("margin",`20px 0 0 ${(parseInt($(".content").css("width"))-parseInt($(".pageList").css("width")))/2}px`)
      //默认显示第一页
      ergodic(page)
      //点击1到5的按钮
      $(".aList a").click(function () {
        page = $(this).html()
        ergodic(page)
      })
      //点击首页
      $(".pageList a").first().click(() => {
        page = 0
        ergodic(page)
      })
      //点击尾页
      $(".pageList a").last().click(() => {
        page = Math.ceil(data.length / 9)
        ergodic(page)
      })

      //点击上一页
      $("#upper").click(() => {
        ergodic(--page)
      })
      //点击下一页
      $("#lower").click(() => {
        page++
        ergodic(page)
      })


      //循环遍历内容
      function ergodic(j) {
        let count = $(".main .section").length
        if (j > totalPage) {
          page = j = totalPage
        } else if (j < 1) {
          page = j = 1
        } else if (j == totalPage) {
          count = data.length % 9
        }
        $(".main .section").html("")
        console.log(count)
        for (var i = 0; i < count; i++) {
          $(".main .section").eq(i).html(`<img alt="" src="${data[i + (j - 1) * 9].img}"><p>${data[i + (j - 1) * 9].text}</p>`)
        }
        $(".aList a").eq(j - 1).addClass("choose").siblings().removeClass("choose")
      }

    })
  </script>
</div>
</body>
</html>